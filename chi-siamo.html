<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chi Siamo | Giro Pizza | An endless loop of pizza slices and hidden climbs</title>
  <meta name="description" content="Scopri chi siamo e la nostra passione per il ciclismo a Bergamo. Anni di esperienza, chilometri percorsi e conoscenza del territorio per offrirti tour unici.">
  
  <!-- Preconnect per Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@200;300;400;500&family=Open+Sans:wght@300;400&family=Playfair+Display:ital@0;1&display=swap" rel="stylesheet">
  
  <!-- CSS Principale -->
  <link rel="stylesheet" href="fixed-styles.css">
  <link rel="stylesheet" href="strava-integration.css">
  
  <!-- Leaflet CSS per le mappe -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
</head>
<body>
  <nav class="minimal-nav">
    <a href="index.html" class="nav-button">HOME</a>
    <a href="contatti.html" class="nav-button">CONTATTI</a>
    <a href="chi-siamo.html" class="nav-button active">CHI SIAMO</a>
  </nav>
  
  <div class="language-selector">
    <a href="chi-siamo.html" class="lang-button active">IT</a>
    <a href="en/about-us.html" class="lang-button">EN</a>
  </div>
  
  <div class="fullpage-container">
    <section class="fullpage-section" id="about-hero">
      <div class="background" style="background-image: url('https://images.unsplash.com/photo-1541625602330-2277a4c46182?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80')"></div>
      <div class="content">
        <h1 class="fade-in">CHI SIAMO</h1>
        <p class="quote fade-in delay-1">La passione per la bici e l'amore per il territorio bergamasco</p>
      </div>
      <div class="scroll-indicator"></div>
    </section>
    
    <section class="fullpage-section" id="bio">
      <div class="background gradient"></div>
      <div class="content">
        <div class="bio-container">
          <img src="images/chi-siamo/personal_pic_michele.jpeg" alt="Fondatore di Giro Pizza" class="bio-image fade-in">
          <div class="bio-content">
            <h2 class="fade-in">MICHELE MERELLI</h2>
            <p class="fade-in delay-1">31 anni, nato e cresciuto tra le colline bergamasche. Ho trasformato la mia passione per il ciclismo in una missione: far scoprire agli appassionati le strade meno conosciute della mia terra.</p>
            <p class="fade-in delay-2">Esploro costantemente nuovi percorsi, alla ricerca di panorami mozzafiato e delle migliori esperienze gastronomiche locali.</p>
            <p class="fade-in delay-3">Con Giro Pizza voglio condividere questa conoscenza, offrendo tour personalizzati che combinano sport, natura e cultura enogastronomica.</p>
          </div>
        </div>
      </div>
    </section>
    
    <section class="fullpage-section" id="strava-stats">
      <div class="background" style="background-image: url('https://images.unsplash.com/photo-1517649763962-0c623066013b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80')"></div>
      <div class="content">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/Strava_Logo.svg/2560px-Strava_Logo.svg.png" alt="Strava Logo" class="strava-logo fade-in">
        <h2 class="fade-in delay-1">I NUMERI NON MENTONO</h2>
        <div class="strava-stats">
          <div class="strava-stat fade-in delay-2">
            <span class="strava-stat-number" data-value="1149">0</span>
            <span class="strava-stat-label">Attività</span>
          </div>
          <div class="strava-stat fade-in delay-2">
            <span class="strava-stat-number" data-value="66286">0</span>
            <span class="strava-stat-label">Km percorsi</span>
          </div>
          <div class="strava-stat fade-in delay-2">
            <span class="strava-stat-number" data-value="1062549">0</span>
            <span class="strava-stat-label">Metri di dislivello</span>
          </div>
          <div class="strava-stat fade-in delay-2">
            <span class="strava-stat-number" data-value="2588">0</span>
            <span class="strava-stat-label">Ore in sella</span>
          </div>
        </div>
        <p class="description fade-in delay-3">Segui le mie attività su Strava per scoprire in anteprima i nuovi percorsi che esploro e che potrebbero diventare i prossimi tour di Giro Pizza.</p>
        <a href="https://www.strava.com/athletes/14488475" target="_blank" class="minimal-button fade-in delay-4">SEGUIMI SU STRAVA</a>
      </div>
    </section>

    <section class="fullpage-section" id="featured-activity">
      <div class="background gradient"></div>
      <div class="content">
        <h2 class="fade-in">ATTIVITÀ IN EVIDENZA</h2>
        <iframe class="featured-iframe fade-in delay-1" src="https://www.strava.com/activities/5400745656/embed" frameborder="0" height="405" width="100%"></iframe>
      </div>
    </section>

    <section class="fullpage-section" id="gpx-maps">
      <div class="background gradient"></div>
      <div class="content" style="padding: 0; max-width: 100%;">
        <div class="gpx-map-container">
          <div class="map-carousel">
            <!-- Mappa 1 -->
            <div class="map-slide active">
              <div class="map-container">
                <div id="map1" class="map"></div>
              </div>
              <div class="map-info">
                <h3 class="map-title fade-in">TOUR DELLE COLLINE</h3>
                <p class="map-description fade-in delay-1">Un percorso panoramico attraverso le colline bergamasche, con viste mozzafiato e strade poco trafficate.</p>
                <div class="map-stats">
                  <div class="map-stat fade-in delay-2">
                    <span class="map-stat-number">45 km</span>
                    <span class="map-stat-label">Distanza</span>
                  </div>
                  <div class="map-stat fade-in delay-2">
                    <span class="map-stat-number">850 m</span>
                    <span class="map-stat-label">Dislivello</span>
                  </div>
                  <div class="map-stat fade-in delay-2">
                    <span class="map-stat-number">3.5 h</span>
                    <span class="map-stat-label">Durata</span>
                  </div>
                </div>
                <a href="#" class="minimal-button fade-in delay-3">DETTAGLI</a>
              </div>
            </div>
            
            <!-- Mappa 2 -->
            <div class="map-slide">
              <div class="map-container">
                <div id="map2" class="map"></div>
              </div>
              <div class="map-info">
                <h3 class="map-title fade-in">CITTÀ ALTA E DINTORNI</h3>
                <p class="map-description fade-in delay-1">Un tour che combina il fascino medievale di Città Alta con le strade panoramiche dei colli circostanti.</p>
                <div class="map-stats">
                  <div class="map-stat fade-in delay-2">
                    <span class="map-stat-number">30 km</span>
                    <span class="map-stat-label">Distanza</span>
                  </div>
                  <div class="map-stat fade-in delay-2">
                    <span class="map-stat-number">600 m</span>
                    <span class="map-stat-label">Dislivello</span>
                  </div>
                  <div class="map-stat fade-in delay-2">
                    <span class="map-stat-number">2.5 h</span>
                    <span class="map-stat-label">Durata</span>
                  </div>
                </div>
                <a href="#" class="minimal-button fade-in delay-3">DETTAGLI</a>
              </div>
            </div>
            
            <!-- Mappa 3 -->
            <div class="map-slide">
              <div class="map-container">
                <div id="map3" class="map"></div>
              </div>
              <div class="map-info">
                <h3 class="map-title fade-in">VALLI BERGAMASCHE</h3>
                <p class="map-description fade-in delay-1">Un'avventura attraverso le valli bergamasche, con salite impegnative e discese emozionanti.</p>
                <div class="map-stats">
                  <div class="map-stat fade-in delay-2">
                    <span class="map-stat-number">65 km</span>
                    <span class="map-stat-label">Distanza</span>
                  </div>
                  <div class="map-stat fade-in delay-2">
                    <span class="map-stat-number">1200 m</span>
                    <span class="map-stat-label">Dislivello</span>
                  </div>
                  <div class="map-stat fade-in delay-2">
                    <span class="map-stat-number">5 h</span>
                    <span class="map-stat-label">Durata</span>
                  </div>
                </div>
                <a href="#" class="minimal-button fade-in delay-3">DETTAGLI</a>
              </div>
            </div>
          </div>
          
          <div class="map-carousel-controls">
            <span class="map-indicator active"></span>
            <span class="map-indicator"></span>
            <span class="map-indicator"></span>
          </div>
        </div>
      </div>
    </section>
    
    <section class="fullpage-section" id="mixed-gallery">
      <div class="background gradient"></div>
      <div class="content" style="padding: 0; max-width: 100%;">
        <div class="mixed-carousel">
          <!-- Slide 1 -->
          <div class="mixed-slide active">
            <div class="mixed-content">
              <h3 class="map-title fade-in">PAESAGGI MOZZAFIATO</h3>
              <p class="map-description fade-in delay-1">I nostri tour ti porteranno attraverso alcuni dei paesaggi più spettacolari delle colline bergamasche, con viste panoramiche che si estendono fino alla pianura padana.</p>
              <a href="#" class="minimal-button fade-in delay-2">SCOPRI I TOUR</a>
            </div>
            <div class="mixed-image" style="background-image: url('images/carousel/mixed1.jpg')"></div>
          </div>
          
          <!-- Slide 2 -->
          <div class="mixed-slide">
            <div class="mixed-content">
              <h3 class="map-title fade-in">GASTRONOMIA LOCALE</h3>
              <p class="map-description fade-in delay-1">Ogni tour include soste presso produttori locali, dove potrai degustare formaggi, salumi, vini e altre specialità bergamasche.</p>
              <a href="#" class="minimal-button fade-in delay-2">TOUR ENOGASTRONOMICI</a>
            </div>
            <div class="mixed-image" style="background-image: url('images/carousel/mixed2.jpg')"></div>
          </div>
          
          <!-- Slide 3 -->
          <div class="mixed-slide">
            <div class="mixed-content">
              <h3 class="map-title fade-in">STRADE POCO CONOSCIUTE</h3>
              <p class="map-description fade-in delay-1">Scopri percorsi lontani dal turismo di massa, strade secondarie e sentieri che solo i locali conoscono, per un'esperienza autentica e unica.</p>
              <a href="#" class="minimal-button fade-in delay-2">ESPLORA</a>
            </div>
            <div class="mixed-image" style="background-image: url('images/carousel/mixed3.jpg')"></div>
          </div>
        </div>
        
        <div class="map-carousel-controls" style="bottom: 1rem;">
          <span class="map-indicator active"></span>
          <span class="map-indicator"></span>
          <span class="map-indicator"></span>
        </div>
      </div>
    </section>
  </div>
  
  <!-- Leaflet JS per le mappe -->
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-gpx/1.5.1/gpx.min.js"></script>
  
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const sections = document.querySelectorAll('.fullpage-section');
      const container = document.querySelector('.fullpage-container');
      
      // Inizializza la prima sezione come attiva
      sections[0].classList.add('active');
      
      // Funzione per animare i numeri
      function animateValue(obj, start, end, duration) {
        let startTimestamp = null;
        const step = (timestamp) => {
          if (!startTimestamp) startTimestamp = timestamp;
          const progress = Math.min((timestamp - startTimestamp) / duration, 1);
          obj.innerHTML = Math.floor(progress * (end - start) + start);
          if (progress < 1) {
            window.requestAnimationFrame(step);
          }
        };
        window.requestAnimationFrame(step);
      }
      
      // Funzione per gestire l'intersezione delle sezioni
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            // Rimuovi la classe active da tutte le sezioni
            sections.forEach(section => section.classList.remove('active'));
            
            // Aggiungi la classe active alla sezione corrente
            entry.target.classList.add('active');
            
            // Anima i numeri se ci sono statistiche
            const stats = entry.target.querySelectorAll('.strava-stat-number');
            stats.forEach(stat => {
              const value = parseFloat(stat.getAttribute('data-value'));
              animateValue(stat, 0, value, 1500);
            });
          }
        });
      }, { threshold: 0.5 });
      
      // Osserva tutte le sezioni
      sections.forEach(section => {
        observer.observe(section);
      });
      
      // Inizializzazione delle mappe
      if (document.getElementById('map1')) {
        const map1 = L.map('map1').setView([45.7, 9.67], 12);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
          maxZoom: 18
        }).addTo(map1);

        new L.GPX('gpx/route1.gpx', {
          async: true,
          polyline_options: { color: '#4A7C59', weight: 5, opacity: 0.8 }
        }).on('loaded', function(e) {
          map1.fitBounds(e.target.getBounds());
        }).addTo(map1);
      }
      
      if (document.getElementById('map2')) {
        const map2 = L.map('map2').setView([45.7, 9.67], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
          maxZoom: 18
        }).addTo(map2);

        new L.GPX('gpx/route2.gpx', {
          async: true,
          polyline_options: { color: '#4A7C59', weight: 5, opacity: 0.8 }
        }).on('loaded', function(e) {
          map2.fitBounds(e.target.getBounds());
        }).addTo(map2);
      }
      
      if (document.getElementById('map3')) {
        const map3 = L.map('map3').setView([45.8, 9.7], 11);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
          maxZoom: 18
        }).addTo(map3);

        new L.GPX('gpx/route3.gpx', {
          async: true,
          polyline_options: { color: '#4A7C59', weight: 5, opacity: 0.8 }
        }).on('loaded', function(e) {
          map3.fitBounds(e.target.getBounds());
        }).addTo(map3);
      }
      
      // Gestione del carousel delle mappe
      const mapSlides = document.querySelectorAll('.map-slide');
      const mapIndicators = document.querySelectorAll('.map-carousel-controls .map-indicator');
      let currentMapSlide = 0;
      
      function showMapSlide(index) {
        // Rimuovi la classe active da tutti gli elementi
        mapSlides.forEach(slide => slide.classList.remove('active'));
        mapIndicators.forEach(indicator => indicator.classList.remove('active'));
        
        // Aggiungi la classe active all'elemento corrente
        mapSlides[index].classList.add('active');
        mapIndicators[index].classList.add('active');
        currentMapSlide = index;
      }
      
      // Event listeners per gli indicatori delle mappe
      mapIndicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
          showMapSlide(index);
        });
      });
      
      // Gestione del carousel misto
      const mixedSlides = document.querySelectorAll('.mixed-slide');
      const mixedIndicators = document.querySelectorAll('#mixed-gallery .map-carousel-controls .map-indicator');
      let currentMixedSlide = 0;
      
      function showMixedSlide(index) {
        // Rimuovi la classe active da tutti gli elementi
        mixedSlides.forEach(slide => slide.classList.remove('active'));
        mixedIndicators.forEach(indicator => indicator.classList.remove('active'));
        
        // Aggiungi la classe active all'elemento corrente
        mixedSlides[index].classList.add('active');
        mixedIndicators[index].classList.add('active');
        currentMixedSlide = index;
      }
      
      // Event listeners per gli indicatori del carousel misto
      mixedIndicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
          showMixedSlide(index);
        });
      });
      
      // Rotazione automatica dei carousel
      setInterval(() => {
        let nextMapSlide = currentMapSlide + 1;
        if (nextMapSlide >= mapSlides.length) nextMapSlide = 0;
        showMapSlide(nextMapSlide);
      }, 8000);
      
      setInterval(() => {
        let nextMixedSlide = currentMixedSlide + 1;
        if (nextMixedSlide >= mixedSlides.length) nextMixedSlide = 0;
        showMixedSlide(nextMixedSlide);
      }, 7000);
    });
  </script>
</body>
</html>
